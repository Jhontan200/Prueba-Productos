<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventario y Clientes - Supabase</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            color: #1f2937;
        }
        .tab-button.active {
            background-color: #ffffff;
            border-bottom-color: #4f46e5;
            color: #4f46e5;
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4);
            justify-content: center;
            align-items: center;
        }
        .card {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .search-input {
            transition: all 0.3s ease;
        }
        .search-input:focus {
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.2);
        }
        .stats-card {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            color: white;
        }
        .action-btn {
            transition: all 0.2s ease;
        }
        .action-btn:hover {
            transform: scale(1.05);
        }
        .dropdown-content {
            display: none;
            position: absolute;
            right: 0;
            z-index: 20;
            margin-top: 0.5rem;
            border-radius: 0.375rem;
            background-color: white;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        .dropdown:hover .dropdown-content {
            display: block;
        }
        .table-container {
            max-height: 400px;
            overflow-y: auto;
        }
        .table-row {
            transition: background-color 0.2s ease;
        }
        .table-row:hover {
            background-color: #f9fafb;
        }
        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="p-6">

    <!-- Supabase SDK -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            // 🔧 CONFIGURACIÓN DE SUPABASE - REEMPLAZA CON TUS DATOS
            const SUPABASE_URL = 'https://zclmlpwyxbwxmgsjqxus.supabase.co';
            const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpjbG1scHd5eGJ3eG1nc2pxeHVzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgxMTQ4NDIsImV4cCI6MjA3MzY5MDg0Mn0.m3BtJW7PWMYzTinrxUcTB8_PgIfnVRfDoMbBD7wcn2g';
            
            // Inicializar Supabase
            const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
            let userId = 'user_' + Math.random().toString(36).substr(2, 9);
            document.getElementById('userIdDisplay').textContent = userId;

            // Referencias a elementos del DOM
            const productTableBody = document.getElementById('productTableBody');
            const clientTableBody = document.getElementById('clientTableBody');
            const productForm = document.getElementById('productForm');
            const clientForm = document.getElementById('clientForm');
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');
            
            // Referencias para el modal
            const modal = document.getElementById('modal');
            const modalTitle = document.getElementById('modalTitle');
            const modalMessage = document.getElementById('modalMessage');
            const modalInput1 = document.getElementById('modalInput1');
            const modalInput2 = document.getElementById('modalInput2');
            const modalInput3 = document.getElementById('modalInput3'); // Añadido para el tercer campo
            const modalConfirmBtn = document.getElementById('modalConfirmBtn');
            const modalCancelBtn = document.getElementById('modalCancelBtn');

            // --- Funciones para la UI y la lógica de negocio ---

            // Función para mostrar mensajes de estado
            function showStatus(message, type = 'success') {
                let statusDiv = document.getElementById('statusMessage');
                if (!statusDiv) {
                    statusDiv = document.createElement('div');
                    statusDiv.id = 'statusMessage';
                    document.body.appendChild(statusDiv);
                }
                statusDiv.textContent = message;
                statusDiv.className = `fixed top-4 right-4 px-4 py-2 rounded-lg shadow-lg z-50 transition-transform duration-300 transform translate-x-0 ${type === 'success' ? 'bg-green-500 text-white' : 'bg-red-500 text-white'}`;
                
                setTimeout(() => {
                    statusDiv.style.transform = 'translateX(120%)';
                }, 3000);
            }

            // Función para renderizar los datos en una tabla
            function renderTable(data, tableBody, type) {
                tableBody.innerHTML = '';
                data.forEach(item => {
                    const row = document.createElement('tr');
                    row.className = 'table-row bg-white border-b hover:bg-gray-50 fade-in';
                    let mainField, extraField;
                    
                    if (type === 'productos') {
                        mainField = `$${item.precio}`;
                        extraField = item.stock;
                    } else {
                        mainField = item.email;
                        extraField = item.telefono;
                    }
                    
                    row.innerHTML = `
                        <td class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">${item.nombre}</td>
                        <td class="px-6 py-4">${mainField}</td>
                        <td class="px-6 py-4">${extraField}</td>
                        <td class="px-6 py-4 text-right">
                            <div class="dropdown relative inline-block text-left">
                                <button type="button" class="action-btn inline-flex justify-center w-full rounded-md border border-gray-300 shadow-sm px-3 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" id="menu-button-${item.id}" aria-expanded="true" aria-haspopup="true">
                                    <i class="fas fa-ellipsis-v"></i>
                                </button>
                                <div class="dropdown-content origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none" role="menu" aria-orientation="vertical" aria-labelledby="menu-button-${item.id}">
                                    <div class="py-1" role="none">
                                        <a href="#" class="text-gray-700 block px-4 py-2 text-sm hover:bg-gray-100" role="menuitem" data-action="edit" data-id="${item.id}">
                                            <i class="fas fa-edit mr-2 text-blue-500"></i>Editar
                                        </a>
                                        <a href="#" class="text-gray-700 block px-4 py-2 text-sm hover:bg-gray-100" role="menuitem" data-action="delete" data-id="${item.id}">
                                            <i class="fas fa-trash mr-2 text-red-500"></i>Eliminar
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </td>
                    `;
                    
                    tableBody.appendChild(row);
                });
                
                // Actualizar estadísticas
                updateStats(data, type);
            }
            
            // Función para actualizar las estadísticas
            function updateStats(data, type) {
                if (type === 'productos') {
                    const totalProducts = data.length;
                    const avgPrice = totalProducts > 0 
                        ? (data.reduce((sum, item) => sum + parseFloat(item.precio), 0) / totalProducts).toFixed(2)
                        : 0;
                    
                    document.getElementById('totalProducts').textContent = totalProducts;
                    document.getElementById('avgPrice').textContent = `$${avgPrice}`;
                } else {
                    const totalClients = data.length;
                    document.getElementById('totalClients').textContent = totalClients;
                }
            }

            // Función para controlar la visibilidad de los dropdowns
            productTableBody.addEventListener('click', (e) => handleDropdown(e, 'productos'));
            clientTableBody.addEventListener('click', (e) => handleDropdown(e, 'clientes'));

            function handleDropdown(e, type) {
                const button = e.target.closest('[id^="menu-button-"]');
                if (button) {
                    const dropdown = button.nextElementSibling;
                    dropdown.classList.toggle('hidden');
                    e.stopPropagation();
                    document.body.addEventListener('click', () => dropdown.classList.add('hidden'), { once: true });
                }
                const actionLink = e.target.closest('[data-action]');
                if (actionLink) {
                    e.preventDefault();
                    const action = actionLink.dataset.action;
                    const id = actionLink.dataset.id;
                    const tableData = type === 'productos' ? window.products : window.clients;
                    const itemData = tableData.find(item => item.id == id);
                    if (action === 'edit') {
                        if (type === 'productos') {
                            editProduct(id, itemData);
                        } else {
                            editClient(id, itemData);
                        }
                    } else if (action === 'delete') {
                        if (type === 'productos') {
                            deleteProduct(id);
                        } else {
                            deleteClient(id);
                        }
                    }
                }
            }

            // Función para manejar las pestañas
            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    tabContents.forEach(content => content.classList.add('hidden'));
                    document.getElementById(button.dataset.tab).classList.remove('hidden');
                });
            });

            // --- Funciones de Supabase (CRUD) ---

            async function loadData() {
                const { data: products, error: productsError } = await supabase
                    .from('productos')
                    .select('*')
                    .eq('user_id', userId)
                    .order('created_at', { ascending: false });
                if (productsError) console.error("Error cargando productos:", productsError);
                window.products = products || [];
                renderTable(window.products, productTableBody, 'productos');

                const { data: clients, error: clientsError } = await supabase
                    .from('clientes')
                    .select('*')
                    .eq('user_id', userId)
                    .order('created_at', { ascending: false });
                if (clientsError) console.error("Error cargando clientes:", clientsError);
                window.clients = clients || [];
                renderTable(window.clients, clientTableBody, 'clientes');
            }
            
            // Función para agregar producto (¡MODIFICADA!)
            async function addProducto(nombre, precio, stock) {
                const { error } = await supabase.from('productos').insert([{ user_id: userId, nombre: nombre, precio: Number(precio), stock: Number(stock) }]);
                if (error) {
                    showStatus('Error al agregar producto', 'error');
                    console.error("Error al agregar producto:", error);
                } else {
                    showStatus('Producto agregado exitosamente');
                }
            }
            
            // Función para agregar cliente (¡MODIFICADA!)
            async function addCliente(nombre, email, telefono) {
                const { error } = await supabase.from('clientes').insert([{ user_id: userId, nombre: nombre, email: email, telefono: telefono }]);
                if (error) {
                    showStatus('Error al agregar cliente', 'error');
                    console.error("Error al agregar cliente:", error);
                } else {
                    showStatus('Cliente agregado exitosamente');
                }
            }

            // Función para eliminar producto
            async function deleteProduct(id) {
                showModal('confirm', `¿Estás seguro de eliminar este producto?`, null, null, async () => {
                    const { error } = await supabase.from('productos').delete().eq('id', id).eq('user_id', userId);
                    if (error) {
                        showStatus('Error al eliminar producto', 'error');
                        console.error("Error al eliminar producto:", error);
                    } else {
                        showStatus('Producto eliminado exitosamente');
                    }
                    hideModal();
                });
            }

            // Función para eliminar cliente
            async function deleteClient(id) {
                showModal('confirm', `¿Estás seguro de eliminar este cliente?`, null, null, async () => {
                    const { error } = await supabase.from('clientes').delete().eq('id', id).eq('user_id', userId);
                    if (error) {
                        showStatus('Error al eliminar cliente', 'error');
                        console.error("Error al eliminar cliente:", error);
                    } else {
                        showStatus('Cliente eliminado exitosamente');
                    }
                    hideModal();
                });
            }
            
            // Función para editar producto (¡MODIFICADA!)
            async function editProduct(id, currentData) {
                showModal('prompt3', 'Editar Producto', currentData.nombre, currentData.precio, currentData.stock, async (newName, newPrice, newStock) => {
                    const { error } = await supabase.from('productos').update({ nombre: newName, precio: Number(newPrice), stock: Number(newStock) }).eq('id', id).eq('user_id', userId);
                    if (error) {
                        showStatus('Error al actualizar producto', 'error');
                        console.error("Error al actualizar producto:", error);
                    } else {
                        showStatus('Producto actualizado exitosamente');
                    }
                    hideModal();
                }, `Nombre`, `Precio`, `Stock`);
            }
            
            // Función para editar cliente (¡MODIFICADA!)
            async function editClient(id, currentData) {
                showModal('prompt3', 'Editar Cliente', currentData.nombre, currentData.email, currentData.telefono, async (newName, newEmail, newPhone) => {
                    const { error } = await supabase.from('clientes').update({ nombre: newName, email: newEmail, telefono: newPhone }).eq('id', id).eq('user_id', userId);
                    if (error) {
                        showStatus('Error al actualizar cliente', 'error');
                        console.error("Error al actualizar cliente:", error);
                    } else {
                        showStatus('Cliente actualizado exitosamente');
                    }
                    hideModal();
                }, `Nombre`, `Email`, `Teléfono`);
            }
            
            // --- Lógica del modal (¡MODIFICADA!) ---
            function showModal(type, title, value1, value2, value3, onConfirm, label1, label2, label3) {
                modalTitle.textContent = title;
                modalMessage.textContent = type === 'confirm' ? value1 : '';
                modalInput1.value = value1 || '';
                modalInput2.value = value2 || '';
                if (modalInput3) modalInput3.value = value3 || '';
                modalInput1.placeholder = label1 || '';
                modalInput2.placeholder = label2 || '';
                if (modalInput3) modalInput3.placeholder = label3 || '';
                
                // Configurar tipos de input
                modalInput1.type = (label2 === 'Email') ? 'email' : 'text';
                modalInput2.type = (label2 === 'Email') ? 'email' : 'text';
                if (modalInput3) modalInput3.type = (label3 === 'Teléfono') ? 'tel' : 'text';

                if (type === 'confirm') {
                    modalInput1.style.display = 'none';
                    modalInput2.style.display = 'none';
                    if (modalInput3) modalInput3.style.display = 'none';
                    modalMessage.style.display = 'block';
                } else if (type === 'prompt3') {
                    modalInput1.style.display = 'block';
                    modalInput2.style.display = 'block';
                    if (modalInput3) modalInput3.style.display = 'block';
                    modalMessage.style.display = 'none';
                } else {
                    modalInput1.style.display = 'block';
                    modalInput2.style.display = 'block';
                    if (modalInput3) modalInput3.style.display = 'none';
                    modalMessage.style.display = 'none';
                }
                
                modalConfirmBtn.onclick = () => {
                    if (type === 'confirm') {
                        onConfirm();
                    } else if (type === 'prompt3') {
                        onConfirm(modalInput1.value, modalInput2.value, modalInput3 ? modalInput3.value : '');
                    } else {
                        onConfirm(modalInput1.value, modalInput2.value);
                    }
                };
                
                modalCancelBtn.onclick = hideModal;
                modal.style.display = 'flex';
            }
            
            function hideModal() {
                modal.style.display = 'none';
            }

            // --- Event listeners para los formularios (¡MODIFICADOS!) ---

            // Formulario de productos
            productForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const nombre = document.getElementById('productName').value;
                const precio = document.getElementById('productPrice').value;
                const stock = document.getElementById('productStock').value;
                if (nombre && precio && stock !== "") {
                    addProducto(nombre, precio, stock);
                    productForm.reset();
                }
            });

            // Formulario de clientes
            clientForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const nombre = document.getElementById('clientName').value;
                const email = document.getElementById('clientEmail').value;
                const telefono = document.getElementById('clientPhone').value;
                if (nombre && email && telefono) {
                    addCliente(nombre, email, telefono);
                    clientForm.reset();
                }
            });
            
            // Configurar listener en tiempo real para ambas tablas
            supabase.channel('productos-changes').on('postgres_changes', { event: '*', schema: 'public', table: 'productos', filter: `user_id=eq.${userId}` }, () => loadData()).subscribe();
            supabase.channel('clientes-changes').on('postgres_changes', { event: '*', schema: 'public', table: 'clientes', filter: `user_id=eq.${userId}` }, () => loadData()).subscribe();

            // Cargar datos al inicio
            loadData();
            
            // Funcionalidad de búsqueda
            document.getElementById('searchProducts').addEventListener('input', (e) => {
                const searchTerm = e.target.value.toLowerCase();
                const filteredProducts = window.products.filter(product => 
                    product.nombre.toLowerCase().includes(searchTerm) || 
                    product.precio.toString().includes(searchTerm) ||
                    product.stock.toString().includes(searchTerm)
                );
                renderTable(filteredProducts, productTableBody, 'productos');
            });
            
            document.getElementById('searchClients').addEventListener('input', (e) => {
                const searchTerm = e.target.value.toLowerCase();
                const filteredClients = window.clients.filter(client => 
                    client.nombre.toLowerCase().includes(searchTerm) || 
                    client.email.toLowerCase().includes(searchTerm) ||
                    client.telefono.toLowerCase().includes(searchTerm)
                );
                renderTable(filteredClients, clientTableBody, 'clientes');
            });
        });
    </script>

    <div class="max-w-6xl mx-auto bg-gray-50 p-8 rounded-xl shadow-lg">
        <h1 class="text-3xl font-bold text-center mb-6 text-gray-800">Sistema de Inventario y Clientes - Supabase</h1>
        <p class="text-center text-sm text-gray-500 mb-8">ID de Usuario: <span id="userIdDisplay" class="font-mono text-gray-700"></span></p>

        <!-- Configuración de Supabase (solo para desarrollo) 
        <div class="bg-red-50 border border-red-200 rounded-lg p-4 mb-6">
            <h3 class="text-lg font-semibold text-red-800 mb-2">⚠️ Configuración Requerida</h3>
            <p class="text-red-700 text-sm">
                Debes reemplazar <code>SUPABASE_URL</code> y <code>SUPABASE_ANON_KEY</code>
                con los valores de tu proyecto de Supabase en el código JavaScript.
            </p>
        </div>-->

        <!-- Tarjetas de estadísticas -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
            <div class="stats-card p-6 rounded-xl shadow-md">
                <div class="flex justify-between items-center">
                    <div>
                        <p class="text-sm font-medium">Total Productos</p>
                        <h2 class="text-3xl font-bold mt-2" id="totalProducts">0</h2>
                    </div>
                    <div class="bg-white bg-opacity-20 p-3 rounded-full">
                        <i class="fas fa-box text-xl"></i>
                    </div>
                </div>
            </div>
            <div class="stats-card p-6 rounded-xl shadow-md">
                <div class="flex justify-between items-center">
                    <div>
                        <p class="text-sm font-medium">Precio Promedio</p>
                        <h2 class="text-3xl font-bold mt-2" id="avgPrice">$0</h2>
                    </div>
                    <div class="bg-white bg-opacity-20 p-3 rounded-full">
                        <i class="fas fa-dollar-sign text-xl"></i>
                    </div>
                </div>
            </div>
            <div class="stats-card p-6 rounded-xl shadow-md">
                <div class="flex justify-between items-center">
                    <div>
                        <p class="text-sm font-medium">Total Clientes</p>
                        <h2 class="text-3xl font-bold mt-2" id="totalClients">0</h2>
                    </div>
                    <div class="bg-white bg-opacity-20 p-3 rounded-full">
                        <i class="fas fa-users text-xl"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- Pestañas de Navegación -->
        <div class="mb-4 border-b border-gray-200">
            <nav class="-mb-px flex space-x-8">
                <button class="whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors tab-button active" data-tab="products-tab">
                    <i class="fas fa-box mr-2"></i>Productos
                </button>
                <button class="whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors tab-button" data-tab="clients-tab">
                    <i class="fas fa-users mr-2"></i>Clientes
                </button>
            </nav>
        </div>

        <!-- Contenido de las Pestañas -->
        <div id="products-tab" class="tab-content">
            <div class="bg-white p-6 rounded-lg shadow-md mb-8 card">
                <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-6">
                    <h2 class="text-2xl font-semibold text-gray-700">
                        <i class="fas fa-box mr-2 text-blue-500"></i>Productos
                    </h2>
                    <div class="mt-4 md:mt-0">
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i class="fas fa-search text-gray-400"></i>
                            </div>
                            <input type="text" id="searchProducts" placeholder="Buscar productos..." class="search-input pl-10 p-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 w-full md:w-64">
                        </div>
                    </div>
                </div>
                
                <!-- ¡FORMULARIO MODIFICADO! -->
                <form id="productForm" class="flex flex-col md:flex-row md:space-x-4 mb-6">
                    <input type="text" id="productName" placeholder="Nombre del producto" required class="flex-1 p-3 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <input type="number" id="productPrice" placeholder="Precio" required step="0.01" class="flex-1 p-3 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 mt-2 md:mt-0">
                    <input type="number" id="productStock" placeholder="Stock" required min="0" class="flex-1 p-3 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 mt-2 md:mt-0">
                    <button type="submit" class="action-btn bg-blue-600 text-white font-bold py-3 px-6 rounded-md hover:bg-blue-700 transition-colors mt-2 md:mt-0">
                        <i class="fas fa-plus mr-2"></i>Agregar Producto
                    </button>
                </form>
                
                <div class="table-container overflow-x-auto rounded-lg border border-gray-200">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                            <tr>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nombre</th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Precio</th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Stock</th>
                                <th scope="col" class="relative px-6 py-3"><span class="sr-only">Acciones</span></th>
                            </tr>
                        </thead>
                        <tbody id="productTableBody" class="bg-white divide-y divide-gray-200">
                            <!-- Los datos se poblarán aquí -->
                        </tbody>
                    </table>
                </div>
                
                <div class="mt-4 text-sm text-gray-500 flex justify-between items-center">
                    <div>
                        Mostrando <span id="productCount" class="font-medium">0</span> productos
                    </div>
                    <div class="flex space-x-2">
                        <button class="p-1 rounded bg-gray-100 text-gray-600 hover:bg-gray-200">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <button class="p-1 rounded bg-gray-100 text-gray-600 hover:bg-gray-200">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div id="clients-tab" class="tab-content hidden">
            <div class="bg-white p-6 rounded-lg shadow-md card">
                <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-6">
                    <h2 class="text-2xl font-semibold text-gray-700">
                        <i class="fas fa-users mr-2 text-green-500"></i>Clientes
                    </h2>
                    <div class="mt-4 md:mt-0">
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i class="fas fa-search text-gray-400"></i>
                            </div>
                            <input type="text" id="searchClients" placeholder="Buscar clientes..." class="search-input pl-10 p-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 w-full md:w-64">
                        </div>
                    </div>
                </div>
                
                <!-- ¡FORMULARIO MODIFICADO! -->
                <form id="clientForm" class="flex flex-col md:flex-row md:space-x-4 mb-6">
                    <input type="text" id="clientName" placeholder="Nombre del cliente" required class="flex-1 p-3 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <input type="email" id="clientEmail" placeholder="Email" required class="flex-1 p-3 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 mt-2 md:mt-0">
                    <input type="tel" id="clientPhone" placeholder="Teléfono" required class="flex-1 p-3 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 mt-2 md:mt-0">
                    <button type="submit" class="action-btn bg-blue-600 text-white font-bold py-3 px-6 rounded-md hover:bg-blue-700 transition-colors mt-2 md:mt-0">
                        <i class="fas fa-plus mr-2"></i>Agregar Cliente
                    </button>
                </form>
                
                <div class="table-container overflow-x-auto rounded-lg border border-gray-200">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                            <tr>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nombre</th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Email</th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Teléfono</th>
                                <th scope="col" class="relative px-6 py-3"><span class="sr-only">Acciones</span></th>
                            </tr>
                        </thead>
                        <tbody id="clientTableBody" class="bg-white divide-y divide-gray-200">
                            <!-- Los datos se poblarán aquí -->
                        </tbody>
                    </table>
                </div>
                
                <div class="mt-4 text-sm text-gray-500 flex justify-between items-center">
                    <div>
                        Mostrando <span id="clientCount" class="font-medium">0</span> clientes
                    </div>
                    <div class="flex space-x-2">
                        <button class="p-1 rounded bg-gray-100 text-gray-600 hover:bg-gray-200">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <button class="p-1 rounded bg-gray-100 text-gray-600 hover:bg-gray-200">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal Personalizado -->
    <div id="modal" class="modal">
        <div class="bg-white p-6 rounded-lg shadow-xl w-full max-w-sm text-center">
            <div class="mb-4 text-blue-500 text-3xl">
                <i class="fas fa-exclamation-circle"></i>
            </div>
            <h3 id="modalTitle" class="text-lg font-bold mb-4">Título del Modal</h3>
            <p id="modalMessage" class="text-gray-700 mb-4 hidden"></p>
            <input type="text" id="modalInput1" class="w-full p-3 mb-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500" />
            <input type="text" id="modalInput2" class="w-full p-3 mb-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500" />
            <input type="text" id="modalInput3" class="w-full p-3 mb-4 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500" />
            <div class="flex justify-center space-x-4">
                <button id="modalConfirmBtn" class="action-btn bg-blue-600 text-white font-bold py-2 px-4 rounded-md hover:bg-blue-700 transition-colors">
                    <i class="fas fa-check mr-1"></i>Confirmar
                </button>
                <button id="modalCancelBtn" class="action-btn bg-gray-400 text-white font-bold py-2 px-4 rounded-md hover:bg-gray-500 transition-colors">
                    <i class="fas fa-times mr-1"></i>Cancelar
                </button>
            </div>
        </div>
    </div>

</body>
</html>